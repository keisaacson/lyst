<!-- Public Lists Index Page with Public List Search Bar -->

<div id="public-lists-container">
	<%= form_tag("/lists/public/search", method: :get) do -%>

		<label for="autocomplete">Search public lists: </label>
		<input id="autocomplete" name="list[search]">
		
		<!-- <input type="submit" value="Share List"> -->
	<% end -%>

	<strong class="list-title">Most Recent Public Lists</strong>
	<ul class="list-items">
	  <% if @public_lists.length == 0 %>
	    <p class="empty-list"> There aren't any public lists!! </p>
	  <% else %>
	    <% @public_lists.each do |public_list| %>
	        <%= render('lists/show', {:list => public_list, :page => 'public'}) %>
	    <% end -%>
	  <% end %>
	</ul>
</div>

<% public_list_titles = @public_lists_all.map {|l| l.title }.join(',')%>

<script>
	var public_lists = '<%= public_list_titles %>';
	$( "#autocomplete" ).autocomplete({
		minLength: 2,
		source: public_lists.split(','),
	});
</script>